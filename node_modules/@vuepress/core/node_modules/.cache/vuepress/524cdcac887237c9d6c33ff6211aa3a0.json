{"remainingRequest":"C:\\Users\\陈昊\\Desktop\\m-vuepress\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\陈昊\\Desktop\\m-vuepress\\docs\\.vuepress\\components\\NewFont.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\陈昊\\Desktop\\m-vuepress\\docs\\.vuepress\\components\\NewFont.vue","mtime":1630924110765},{"path":"C:\\Users\\陈昊\\Desktop\\m-vuepress\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630405559601},{"path":"C:\\Users\\陈昊\\Desktop\\m-vuepress\\node_modules\\babel-loader\\lib\\index.js","mtime":1630405559084},{"path":"C:\\Users\\陈昊\\Desktop\\m-vuepress\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630405559601},{"path":"C:\\Users\\陈昊\\Desktop\\m-vuepress\\node_modules\\vue-loader\\lib\\index.js","mtime":1630405560208}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJOZXdGb250IiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4ge307DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgY2xhc3MgVGV4dFNjcmFtYmxlIHsNCiAgICAgIGNvbnN0cnVjdG9yKGVsKSB7DQogICAgICAgIHRoaXMuZWwgPSBlbDsNCiAgICAgICAgdGhpcy5jaGFycyA9ICIhPD4tXy9bXXt94oCUPSsqXj8jX19fX19fX18iOw0KICAgICAgICB0aGlzLnVwZGF0ZSA9IHRoaXMudXBkYXRlLmJpbmQodGhpcyk7DQogICAgICB9DQogICAgICBzZXRUZXh0KG5ld1RleHQpIHsNCiAgICAgICAgY29uc3Qgb2xkVGV4dCA9IHRoaXMuZWwuaW5uZXJUZXh0Ow0KICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1heChvbGRUZXh0Lmxlbmd0aCwgbmV3VGV4dC5sZW5ndGgpOw0KICAgICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+ICh0aGlzLnJlc29sdmUgPSByZXNvbHZlKSk7DQogICAgICAgIHRoaXMucXVldWUgPSBbXTsNCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgew0KICAgICAgICAgIGNvbnN0IGZyb20gPSBvbGRUZXh0W2ldIHx8ICIiOw0KICAgICAgICAgIGNvbnN0IHRvID0gbmV3VGV4dFtpXSB8fCAiIjsNCiAgICAgICAgICBjb25zdCBzdGFydCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDQwKTsNCiAgICAgICAgICBjb25zdCBlbmQgPSBzdGFydCArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDQwKTsNCiAgICAgICAgICB0aGlzLnF1ZXVlLnB1c2goeyBmcm9tLCB0bywgc3RhcnQsIGVuZCB9KTsNCiAgICAgICAgfQ0KICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmZyYW1lUmVxdWVzdCk7DQogICAgICAgIHRoaXMuZnJhbWUgPSAwOw0KICAgICAgICB0aGlzLnVwZGF0ZSgpOw0KICAgICAgICByZXR1cm4gcHJvbWlzZTsNCiAgICAgIH0NCiAgICAgIHVwZGF0ZSgpIHsNCiAgICAgICAgbGV0IG91dHB1dCA9ICIiOw0KICAgICAgICBsZXQgY29tcGxldGUgPSAwOw0KICAgICAgICBmb3IgKGxldCBpID0gMCwgbiA9IHRoaXMucXVldWUubGVuZ3RoOyBpIDwgbjsgaSsrKSB7DQogICAgICAgICAgbGV0IHsgZnJvbSwgdG8sIHN0YXJ0LCBlbmQsIGNoYXIgfSA9IHRoaXMucXVldWVbaV07DQogICAgICAgICAgaWYgKHRoaXMuZnJhbWUgPj0gZW5kKSB7DQogICAgICAgICAgICBjb21wbGV0ZSsrOw0KICAgICAgICAgICAgb3V0cHV0ICs9IHRvOw0KICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5mcmFtZSA+PSBzdGFydCkgew0KICAgICAgICAgICAgaWYgKCFjaGFyIHx8IE1hdGgucmFuZG9tKCkgPCAwLjI4KSB7DQogICAgICAgICAgICAgIGNoYXIgPSB0aGlzLnJhbmRvbUNoYXIoKTsNCiAgICAgICAgICAgICAgdGhpcy5xdWV1ZVtpXS5jaGFyID0gY2hhcjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIG91dHB1dCArPSBgPHNwYW4gY2xhc3M9ImR1ZCI+JHtjaGFyfTwvc3Bhbj5gOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBvdXRwdXQgKz0gZnJvbTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5lbC5pbm5lckhUTUwgPSBvdXRwdXQ7DQogICAgICAgIGlmIChjb21wbGV0ZSA9PT0gdGhpcy5xdWV1ZS5sZW5ndGgpIHsNCiAgICAgICAgICB0aGlzLnJlc29sdmUoKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLmZyYW1lUmVxdWVzdCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZSk7DQogICAgICAgICAgdGhpcy5mcmFtZSsrOw0KICAgICAgICB9DQogICAgICB9DQogICAgICByYW5kb21DaGFyKCkgew0KICAgICAgICByZXR1cm4gdGhpcy5jaGFyc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLmNoYXJzLmxlbmd0aCldOw0KICAgICAgfQ0KICAgIH0NCg0KICAgIGxldCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5oZXJvIC5kZXNjcmlwdGlvbiIpOw0KICAgIGNvbnNvbGUubG9nKCJlbDogIiwgZWwpOw0KDQogICAgaWYgKCFlbCkgew0KICAgICAgY29uc3QgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7DQogICAgICAgIGlmIChlbCkgew0KICAgICAgICAgIGluaXQoKTsNCiAgICAgICAgICB0aW1lciAmJiBjbGVhckludGVydmFsKHRpbWVyKTsNCiAgICAgICAgfQ0KICAgICAgICBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5oZXJvIC5kZXNjcmlwdGlvbiIpOw0KICAgICAgfSwgMTAwKTsNCiAgICB9IGVsc2Ugew0KICAgICAgaW5pdCgpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGluaXQoKSB7DQogICAgICBjb25zdCBmeCA9IG5ldyBUZXh0U2NyYW1ibGUoZWwpOw0KICAgICAgY29uc3QgcGhyYXNlcyA9IFsNCiAgICAgICAgIuacieS4gOS7veeDre+8jOWPkeS4gOS7veWFiSIsDQogICAgICAgICLlsLHlpoLokKTngavkuIDoiKwiLA0KICAgICAgICAi5Lmf5Y+v5Lul5Zyo6buR5pqX6YeM5Y+R5LiA54K55YWJIiwNCiAgICAgICAgIuS4jeW/heetieWAmeeCrOeBqyIsDQogICAgICAgICLmraTlkI7lpoLnq5/msqHmnInngqzngasiLA0KICAgICAgICAi5oiR5L6/5piv5ZSv5LiA55qE5YWJIiwNCiAgICAgICAgIuaEv+S4juaJgOacieS4reWbvemdkuW5tOWFseWLiSINCiAgICAgIF07DQogICAgICAvLyBmeC5zZXRUZXh0KCflhpnku6PnoIHnmoTmhqjmhqgnKQ0KICAgICAgbGV0IGNvdW50ZXIgPSAwOw0KICAgICAgY29uc3QgbmV4dCA9ICgpID0+IHsNCiAgICAgICAgZnguc2V0VGV4dChwaHJhc2VzW2NvdW50ZXJdKS50aGVuKCgpID0+IHsNCiAgICAgICAgICBzZXRUaW1lb3V0KG5leHQsIDIwMDApOw0KICAgICAgICB9KTsNCiAgICAgICAgY291bnRlciA9IChjb3VudGVyICsgMSkgJSBwaHJhc2VzLmxlbmd0aDsNCiAgICAgIH07DQogICAgICBuZXh0KCk7DQogICAgfQ0KICB9LA0KfTsNCg=="},{"version":3,"sources":["NewFont.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NewFont.vue","sourceRoot":"docs/.vuepress/components","sourcesContent":["<template>\r\n  <div></div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"NewFont\",\r\n  data() {\r\n    return {};\r\n  },\r\n  mounted() {\r\n    class TextScramble {\r\n      constructor(el) {\r\n        this.el = el;\r\n        this.chars = \"!<>-_/[]{}—=+*^?#________\";\r\n        this.update = this.update.bind(this);\r\n      }\r\n      setText(newText) {\r\n        const oldText = this.el.innerText;\r\n        const length = Math.max(oldText.length, newText.length);\r\n        const promise = new Promise((resolve) => (this.resolve = resolve));\r\n        this.queue = [];\r\n        for (let i = 0; i < length; i++) {\r\n          const from = oldText[i] || \"\";\r\n          const to = newText[i] || \"\";\r\n          const start = Math.floor(Math.random() * 40);\r\n          const end = start + Math.floor(Math.random() * 40);\r\n          this.queue.push({ from, to, start, end });\r\n        }\r\n        cancelAnimationFrame(this.frameRequest);\r\n        this.frame = 0;\r\n        this.update();\r\n        return promise;\r\n      }\r\n      update() {\r\n        let output = \"\";\r\n        let complete = 0;\r\n        for (let i = 0, n = this.queue.length; i < n; i++) {\r\n          let { from, to, start, end, char } = this.queue[i];\r\n          if (this.frame >= end) {\r\n            complete++;\r\n            output += to;\r\n          } else if (this.frame >= start) {\r\n            if (!char || Math.random() < 0.28) {\r\n              char = this.randomChar();\r\n              this.queue[i].char = char;\r\n            }\r\n            output += `<span class=\"dud\">${char}</span>`;\r\n          } else {\r\n            output += from;\r\n          }\r\n        }\r\n        this.el.innerHTML = output;\r\n        if (complete === this.queue.length) {\r\n          this.resolve();\r\n        } else {\r\n          this.frameRequest = requestAnimationFrame(this.update);\r\n          this.frame++;\r\n        }\r\n      }\r\n      randomChar() {\r\n        return this.chars[Math.floor(Math.random() * this.chars.length)];\r\n      }\r\n    }\r\n\r\n    let el = document.querySelector(\".hero .description\");\r\n    console.log(\"el: \", el);\r\n\r\n    if (!el) {\r\n      const timer = setInterval(() => {\r\n        if (el) {\r\n          init();\r\n          timer && clearInterval(timer);\r\n        }\r\n        el = document.querySelector(\".hero .description\");\r\n      }, 100);\r\n    } else {\r\n      init();\r\n    }\r\n\r\n    function init() {\r\n      const fx = new TextScramble(el);\r\n      const phrases = [\r\n        \"有一份热，发一份光\",\r\n        \"就如萤火一般\",\r\n        \"也可以在黑暗里发一点光\",\r\n        \"不必等候炬火\",\r\n        \"此后如竟没有炬火\",\r\n        \"我便是唯一的光\",\r\n        \"愿与所有中国青年共勉\"\r\n      ];\r\n      // fx.setText('写代码的憨憨')\r\n      let counter = 0;\r\n      const next = () => {\r\n        fx.setText(phrases[counter]).then(() => {\r\n          setTimeout(next, 2000);\r\n        });\r\n        counter = (counter + 1) % phrases.length;\r\n      };\r\n      next();\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n</style>\r\n"]}]}